(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{128:function(a,e,t){a.exports=t(157)},133:function(a,e,t){},157:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),c=t(91),s=t.n(c),i=t(93),o=t(17),l=t(174),m=t(175),p=(t(133),t(21)),d=t.n(p),h=t(27),u=t(4),g=t(33),j=t.n(g),b=t(38),f=t(6),v=t(96),y=t(36),O="country",N="state",E={country:"ST_NM",state:"district"},T=function(a,e){var t=E[e];f.h(".path-region").classed("map-hover",(function(e,n,r){return a==e.properties[t]&&(r[n].parentNode.appendChild(r[n]),!0)}))};var k=function(a){var e=a.statistic,t=a.mapData,c=a.setHoveredRegion,s=a.mapMeta,i=a.changeMap,o=Object(n.useState)(!1),l=Object(u.a)(o,2),m=(l[0],l[1],Object(n.useState)(1)),p=Object(u.a)(m,2),g=(p[0],p[1],Object(n.useRef)(null));Object(n.useEffect)((function(){Object(h.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f.h("svg#chart > *").remove(),a.next=3,f.e(s.geoDataFile);case 3:t=a.sent,e&&g.current&&(b(t),T());case 5:case"end":return a.stop()}}),a)})))()}),[s.geoDataFile]);var j=E[s.mapType];function b(a){var n=f.g(g.current),r=+n.attr("width"),o=+n.attr("height"),l=f.b().center(s.center).scale(s.scale).translate([r/2,o/2]),m=f.c(l),p=null;n.append("g").attr("class","states").selectAll("path").data(y.a(a,a.objects[s.graphObjectName]).features).enter().append("path").attr("class","path-region").attr("fill",(function(a){var n=t[a.properties[j]]||0;return 0==n?"#ffffff":f.d(.8*n/(e.maxRecovered||.001))})).attr("d",m).attr("pointer-events","all").on("mouseover",(function(a){!function(a){try{c(a,s.mapType)}catch(e){console.log("err",e)}}(a.properties[j]);var e=f.a.target;f.g(e.parentNode.appendChild(e)).attr("class","map-hover")})).on("mouseleave",(function(a){t[a.properties[j]];var e=f.a.target;f.g(e).attr("class","path-region map-default"),p==a&&(p=null)})).on("touchstart",(function(a){p=p==a?null:a})).on("click",(function(a){p||s.mapType!==N&&i(a.properties[j],s.mapType)})).style("cursor","pointer").append("title").text((function(a){var n=t[a.properties[j]]||0;return parseFloat(n/(e.total||.001)*100).toFixed(2)+"% from "+O(a.properties[j])})),n.append("path").attr("stroke","#ff073a20").attr("fill","none").attr("stroke-width",2).attr("d",m(y.b(a,a.objects[s.graphObjectName])))}var O=function(a){a=a.toLowerCase().split(" ");for(var e=0;e<a.length;e++)a[e]=a[e].charAt(0).toUpperCase()+a[e].slice(1);return a.join(" ")},T=function(){var a,t,n=f.g(g.current),r=f.f(f.d).domain([0,e.maxRecovered/.8||10]);t=function(a){var e=a.i,t=a.genLength,n=a.generatedLabels;a.labelDelimiter;if(e===t-1){var r=Math.floor(n[e]);return"".concat(r,"+")}var c=1+Math.floor(n[e]),s=Math.floor(n[e+1]);return"".concat(c," - ").concat(s)};var c=Math.floor((e.maxRecovered<6?6:e.maxRecovered)/5);a=Array.from(Array(6).keys()).map((function(a){return a*c})),n.append("g").attr("class","legendLinear").attr("transform","translate(1, 375)");var s=Object(v.a)().shapeWidth(50).cells(a).titleWidth(3).labels(t).title("Recovered Cases").orient("vertical").scale(r);n.select(".legendLinear").call(s)};return r.a.createElement("div",{className:"svg-parent"},r.a.createElement("svg",{id:"chart",width:"650",height:"450",viewBox:"0 0 650 450",preserveAspectRatio:"xMidYMid meet",ref:g}))},D={India:{name:"India",geoDataFile:"".concat("/maps","/india.json"),mapType:O,graphObjectName:"india",center:[78.9,22],scale:1e3},"Andaman and Nicobar Islands":{name:"Andaman and Nicobar Islands",geoDataFile:"".concat("/maps","/andamannicobarislands.json"),mapType:N,graphObjectName:"andamannicobarislands_district",center:[92,10],scale:4e3},"Arunachal Pradesh":{name:"Arunachal Pradesh",geoDataFile:"".concat("/maps","/arunachalpradesh.json"),mapType:N,graphObjectName:"arunachalpradesh_district",center:[94,27],scale:5e3},"Andhra Pradesh":{name:"Andhra Pradesh",geoDataFile:"".concat("/maps","/andhrapradesh.json"),mapType:N,graphObjectName:"andhrapradesh_district",center:[80,16],scale:3200},Assam:{name:"Assam",geoDataFile:"".concat("/maps","/assam.json"),mapType:N,graphObjectName:"assam_district",center:[92,26],scale:4500},Bihar:{name:"Bihar",geoDataFile:"".concat("/maps","/bihar.json"),mapType:N,graphObjectName:"bihar_district",center:[85,25],scale:6e3},Chhattisgarh:{name:"Chhattisgarh",geoDataFile:"".concat("/maps","/chhattisgarh.json"),mapType:N,graphObjectName:"chhattisgarh_district",center:[82,21],scale:4500},Delhi:{name:"Delhi",geoDataFile:"".concat("/maps","/delhi.json"),mapType:N,graphObjectName:"delhi_1997-2012_district",center:[77,28.5],scale:3e4},Karnataka:{name:"Karnataka",geoDataFile:"".concat("/maps","/karnataka.json"),mapType:N,graphObjectName:"karnataka_district",center:[76,15.05],scale:4900},Kerala:{name:"Kerala",geoDataFile:"".concat("/maps","/kerala.json"),mapType:N,graphObjectName:"kerala_district",center:[76,10.5],scale:5e3},Goa:{name:"Goa",geoDataFile:"".concat("/maps","/goa.json"),mapType:N,graphObjectName:"goa_district",center:[74,15],scale:2e4},Gujarat:{name:"Gujarat",geoDataFile:"".concat("/maps","/gujarat.json"),mapType:N,graphObjectName:"gujarat_district_2011",center:[70.5,22],scale:4e3},Haryana:{name:"Haryana",geoDataFile:"".concat("/maps","/haryana.json"),mapType:N,graphObjectName:"haryana_district",center:[76,29],scale:8e3},"Himachal Pradesh":{name:"Himachal Pradesh",geoDataFile:"".concat("/maps","/himachalpradesh.json"),mapType:N,graphObjectName:"himachalpradesh_district",center:[77,32],scale:7e3},"Jammu and Kashmir":{name:"Jammu and Kashmir",geoDataFile:"".concat("/maps","/jammukashmir.json"),mapType:N,graphObjectName:"jammukashmir_district",center:[75,34],scale:5e3},Jharkhand:{name:"Jharkhand",geoDataFile:"".concat("/maps","/jharkhand.json"),mapType:N,graphObjectName:"jharkhand_district",center:[85,23],scale:4500},Ladakh:{name:"Ladakh",geoDataFile:"".concat("/maps","/ladakh.json"),mapType:N,graphObjectName:"ladakh_district",center:[76,33],scale:3e3},"Madhya Pradesh":{name:"Madhya Pradesh",geoDataFile:"".concat("/maps","/madhyapradesh.json"),mapType:N,graphObjectName:"madhyapradesh_district",center:[77,23],scale:3e3},Maharashtra:{name:"Maharashtra",geoDataFile:"".concat("/maps","/maharashtra.json"),mapType:N,graphObjectName:"maharashtra_district",center:[75,18],scale:3e3},Manipur:{name:"Manipur",geoDataFile:"".concat("/maps","/manipur.json"),mapType:N,graphObjectName:"manipur_pre2016_districts",center:[93.5,24],scale:9e3},Meghalaya:{name:"Meghalaya",geoDataFile:"".concat("/maps","/meghalaya.json"),mapType:N,graphObjectName:"meghalaya_district",center:[91,24],scale:6500},Mizoram:{name:"Mizoram",geoDataFile:"".concat("/maps","/mizoram.json"),mapType:N,graphObjectName:"mizoram_district",center:[92.5,23],scale:1e4},Nagaland:{name:"Nagaland",geoDataFile:"".concat("/maps","/nagaland.json"),mapType:N,graphObjectName:"nagaland_district",center:[94,25],scale:7500},Odisha:{name:"Odisha",geoDataFile:"".concat("/maps","/odisha.json"),mapType:N,graphObjectName:"odisha_district",center:[84,20],scale:4e3},Punjab:{name:"Punjab",geoDataFile:"".concat("/maps","/punjab.json"),mapType:N,graphObjectName:"punjab_district",center:[75,30.7],scale:8e3},Rajasthan:{name:"Rajasthan",geoDataFile:"".concat("/maps","/rajasthan.json"),mapType:N,graphObjectName:"rajasthan_district",center:[73,25],scale:3e3},Sikkim:{name:"Sikkim",geoDataFile:"".concat("/maps","/sikkim.json"),mapType:N,graphObjectName:"sikkim_district",center:[88,27.5],scale:15e3},"Tamil Nadu":{name:"Tamil Nadu",geoDataFile:"".concat("/maps","/tamil-nadu.json"),mapType:N,graphObjectName:"tamilnadu_district",center:[83,18],scale:1500},Telangana:{name:"Telangana",geoDataFile:"".concat("/maps","/telugana.json"),mapType:N,graphObjectName:"telugana",center:[79,17],scale:5e3},Tripura:{name:"Tripura",geoDataFile:"".concat("/maps","/tripura.json"),mapType:N,graphObjectName:"tripura_district",center:[91.5,23],scale:1e4},Uttarakhand:{name:"Uttarakhand",geoDataFile:"".concat("/maps","/uttarakhand.json"),mapType:N,graphObjectName:"uttarakhand_district",center:[79,30],scale:8e3},"Uttar Pradesh":{name:"Uttar Pradesh",geoDataFile:"".concat("/maps","/uttarpradesh.json"),mapType:N,graphObjectName:"uttarpradesh_district",center:[80,27],scale:3500},"West Bengal":{name:"West Bengal",geoDataFile:"".concat("/maps","/westbengal.json"),mapType:N,graphObjectName:"westbengal_district",center:[87,24],scale:5e3}},_=function(a){var e=a.states,t=a.stateDistrictWiseData,c=a.stateHighlighted,s=Object(n.useState)({}),i=Object(u.a)(s,2),o=i[0],l=i[1],m=Object(n.useState)(D.India),p=Object(u.a)(m,2),d=p[0],h=p[1];if(Object(n.useEffect)((function(){}),[e]),Object(n.useEffect)((function(){var a=_(e[1]);l(a)}),[e]),Object(n.useEffect)((function(){if(d.mapType!==N)if(null===c)T(null,d.mapType);else if(void 0!==c){var a=_(c.state);l(a),T(a.name,d.mapType)}}),[c]),!o)return null;var g=Object(n.useMemo)((function(){var a={total:0,maxRecovered:0,maxConfirmed:0},n={};if(d.mapType===O)n=e.reduce((function(e,t){if("Total"===t.state)return e;var n=parseInt(t.recovered);return a.total+=n,n>a.maxRecovered&&(a.maxRecovered=n),e[t.state]=t.recovered,e}),{});else if(d.mapType===N){var r=(t[d.name]||{districtData:{}}).districtData;n=Object.keys(r).reduce((function(e,t){var n=parseInt(r[t].recovered);return a.total+=n,n>a.maxRecovered&&(a.maxRecovered=n),e[t]=r[t].recovered,e}),{})}return console.log([a,n]),[a,n]}),[d]),j=Object(u.a)(g,2),f=j[0],v=j[1],y=function(a,n){if(n.mapType===O)l(_(e.filter((function(e){return a===e.state}))[0]));else if(n.mapType===N){var r=(t[n.name]||{districtData:{}}).districtData[a];r||(r={confirmed:0,active:0,deaths:0,recovered:0}),l(E(r,a))}},E=function(a,e){if(a){var t=Object(b.a)({},a);return t.name||(t.name=e),t}},_=function(a){if(a){var e=Object(b.a)({},a);return e.name||(e.name=e.state),e}},F=function(a){var n=D[a];if(n)if(h(n),n.mapType===O)y(e[1].state,n);else if(n.mapType===N){var r=(t[a]||{districtData:{}}).districtData,c=Object.keys(r).filter((function(a){return"Unknown"!==a})).sort((function(a,e){return r[e].confirmed-r[a].confirmed}))[0];y(c,n)}};return r.a.createElement("div",{className:"MapExplorer fadeInUp",style:{animationDelay:"1.2s"}},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,d.name," Map"),r.a.createElement("h6",null,"Hover over a"," ",d.mapType===O?"state":"district"," for more details")),r.a.createElement("div",{className:"map-stats"},r.a.createElement("div",{className:"stats"},r.a.createElement("h5",null,"Confirmed"),r.a.createElement("div",{className:"stats-bottom"},r.a.createElement("h1",null,o.confirmed),r.a.createElement("h6",null))),r.a.createElement("div",{className:"stats is-blue"},r.a.createElement("h5",null,"Active"),r.a.createElement("div",{className:"stats-bottom"},r.a.createElement("h1",null,o.active||""),r.a.createElement("h6",null))),r.a.createElement("div",{className:"stats is-green"},r.a.createElement("h5",null,"Recovered"),r.a.createElement("div",{className:"stats-bottom"},r.a.createElement("h1",null,o.recovered||""),r.a.createElement("h6",null))),r.a.createElement("div",{className:"stats is-gray"},r.a.createElement("h5",null,"Deceased"),r.a.createElement("div",{className:"stats-bottom"},r.a.createElement("h1",null,o.deaths||""),r.a.createElement("h6",null)))),r.a.createElement("div",{className:"meta"},r.a.createElement("h2",null,o.name),d.mapType===N&&v.Unknown>0?r.a.createElement("h4",{className:"unknown"},"Districts unknown for ",v.Unknown," people"):null,d.mapType===N?r.a.createElement("div",{className:"button back-button",onClick:function(){return F("India")}},"Back"):null),r.a.createElement(k,{statistic:f,mapMeta:d,mapData:v,setHoveredRegion:function(a){return y(a,d)},changeMap:F}))};var F=function(a){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)({}),o=Object(u.a)(i,2),l=o[0],m=o[1],p=Object(n.useState)(!1),g=Object(u.a)(p,2),b=g[0],f=g[1],v=Object(n.useState)(1),y=Object(u.a)(v,2),O=(y[0],y[1],Object(n.useState)("")),N=Object(u.a)(O,2),E=N[0],T=N[1],k=Object(n.useState)([]),D=Object(u.a)(k,2),F=(D[0],D[1]),w=Object(n.useState)(!0),M=Object(u.a)(w,2),x=(M[0],M[1],Object(n.useState)(void 0)),R=Object(u.a)(x,2),A=R[0];R[1],Object(n.useEffect)((function(){!1===b&&S()}),[b]);var S=function(){var a=Object(h.a)(d.a.mark((function a(){var e,t,n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.all([j.a.get("https://api.covid19india.org/data.json"),j.a.get("https://api.covid19india.org/state_district_wise.json")]);case 3:e=a.sent,t=Object(u.a)(e,2),n=t[0],r=t[1],s(n.data.statewise),T(n.data.statewise[0].lastupdatedtime),F(n.data.key_values[0]),m(r.data),f(!0),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"Home"},b&&r.a.createElement(_,{lastUpdated:E,states:c,stateDistrictWiseData:l,stateHighlighted:A}))},w=t(10).createBrowserHistory;var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{history:w},r.a.createElement(o.b,{render:function(a){a.location;return r.a.createElement("div",{className:"Almighty-Router"},r.a.createElement(o.b,{exact:!0,path:"/",render:function(){return r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{exact:!0,path:"/",render:function(a){return r.a.createElement(F,a)}}))}})),r.a.createElement("footer",{className:"fadeInUp",style:{animationDelay:"2s"}},r.a.createElement("img",{src:"/icon.png",alt:"https://www.covid19india.org | Coronavirus cases live dashboard"}),r.a.createElement("div",{className:"link"},"Thank you to ",r.a.createElement("a",{href:"https://github.com/covid19india"},"covid19india")),r.a.createElement("div",{id:"footerButtons"},r.a.createElement("a",{className:"button",href:"https://bit.ly/patientdb",target:"_noblank"},r.a.createElement(l.a,null),r.a.createElement("span",null,"Crowdsourced Patient Database\xa0")),r.a.createElement("a",{href:"https://bit.ly/covid19crowd",className:"button telegram",target:"_noblank"},r.a.createElement(m.a,null),r.a.createElement("span",null,"Join Telegram to Collaborate!")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[128,1,2]]]);
//# sourceMappingURL=main.b25870af.chunk.js.map
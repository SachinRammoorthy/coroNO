(this["webpackJsonpcorona-final"]=this["webpackJsonpcorona-final"]||[]).push([[0],{114:function(a,e,t){a.exports=t(140)},119:function(a,e,t){},120:function(a,e,t){a.exports=t.p+"static/media/logo.5d5d9eef.svg"},121:function(a,e,t){},140:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),c=t(80),s=t.n(c),i=(t(119),t(120),t(121),t(14)),o=t.n(i),l=t(20),m=t(4),p=t(25),d=t.n(p),h=t(28),u=t(3),g=t(82),j=t(26),f="country",v="state",b={country:"ST_NM",state:"district"},y=function(a,e){var t=b[e];u.h(".path-region").classed("map-hover",(function(e,n,r){return a==e.properties[t]&&(r[n].parentNode.appendChild(r[n]),!0)}))};var O=function(a){var e=a.statistic,t=a.mapData,c=a.setHoveredRegion,s=a.mapMeta,i=a.changeMap,m=Object(n.useRef)(null);Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function a(){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u.h("svg#chart > *").remove(),a.next=3,u.e(s.geoDataFile);case 3:t=a.sent,e&&m.current?(d(t),f(),console.log("got upto here!")):console.log("didn't pass");case 5:case"end":return a.stop()}}),a)})))()}),[s.geoDataFile]);var p=b[s.mapType];function d(a){var n=u.g(m.current),r=+n.attr("width"),o=+n.attr("height"),l=u.b().center(s.center).scale(s.scale).translate([r/2,o/2]),d=u.c(l),g=null;n.append("g").attr("class","states").selectAll("path").data(j.a(a,a.objects[s.graphObjectName]).features).enter().append("path").attr("class","path-region").attr("fill",(function(a){var n=t[a.properties[p]]||0;return 0==n?"#ffffff":u.d(.8*n/(e.maxRecovered||.001))})).attr("d",d).attr("pointer-events","all").on("mouseover",(function(a){!function(a){try{c(a,s.mapType)}catch(e){console.log("err",e)}}(a.properties[p]);var e=u.a.target;u.g(e.parentNode.appendChild(e)).attr("class","map-hover")})).on("mouseleave",(function(a){t[a.properties[p]];var e=u.a.target;u.g(e).attr("class","path-region map-default"),g==a&&(g=null)})).on("touchstart",(function(a){g=g==a?null:a})).on("click",(function(a){g||s.mapType!==v&&i(a.properties[p],s.mapType)})).style("cursor","pointer").append("title").text((function(a){var n=t[a.properties[p]]||0;return parseFloat(n/(e.total||.001)*100).toFixed(2)+"% from "+h(a.properties[p])})),n.append("path").attr("stroke","#ff073a20").attr("fill","none").attr("stroke-width",2).attr("d",d(j.b(a,a.objects[s.graphObjectName])))}var h=function(a){a=a.toLowerCase().split(" ");for(var e=0;e<a.length;e++)a[e]=a[e].charAt(0).toUpperCase()+a[e].slice(1);return a.join(" ")},f=function(){var a,t,n=u.g(m.current),r=u.f(u.d).domain([0,e.maxRecovered/.8||10]);t=function(a){var e=a.i,t=a.genLength,n=a.generatedLabels;a.labelDelimiter;if(e===t-1){var r=Math.floor(n[e]);return"".concat(r,"+")}var c=1+Math.floor(n[e]),s=Math.floor(n[e+1]);return"".concat(c," - ").concat(s)};var c=Math.floor((e.maxRecovered<6?6:e.maxRecovered)/5);a=Array.from(Array(6).keys()).map((function(a){return a*c})),n.append("g").attr("class","legendLinear").attr("transform","translate(1, 375)");var s=Object(g.a)().shapeWidth(50).cells(a).titleWidth(3).labels(t).title("Recovered Cases").orient("vertical").scale(r);n.select(".legendLinear").call(s)};return r.a.createElement("div",{className:"svg-parent"},r.a.createElement("svg",{id:"chart",width:"650",height:"450",viewBox:"0 0 650 450",preserveAspectRatio:"xMidYMid meet",ref:m}))},N={India:{name:"India",geoDataFile:"".concat("/maps","/india.json"),mapType:f,graphObjectName:"india",center:[78.9,22],scale:1e3},"Andaman and Nicobar Islands":{name:"Andaman and Nicobar Islands",geoDataFile:"".concat("/maps","/andamannicobarislands.json"),mapType:v,graphObjectName:"andamannicobarislands_district",center:[92,10],scale:4e3},"Arunachal Pradesh":{name:"Arunachal Pradesh",geoDataFile:"".concat("/maps","/arunachalpradesh.json"),mapType:v,graphObjectName:"arunachalpradesh_district",center:[94,27],scale:5e3},"Andhra Pradesh":{name:"Andhra Pradesh",geoDataFile:"".concat("/maps","/andhrapradesh.json"),mapType:v,graphObjectName:"andhrapradesh_district",center:[80,16],scale:3200},Assam:{name:"Assam",geoDataFile:"".concat("/maps","/assam.json"),mapType:v,graphObjectName:"assam_district",center:[92,26],scale:4500},Bihar:{name:"Bihar",geoDataFile:"".concat("/maps","/bihar.json"),mapType:v,graphObjectName:"bihar_district",center:[85,25],scale:6e3},Chhattisgarh:{name:"Chhattisgarh",geoDataFile:"".concat("/maps","/chhattisgarh.json"),mapType:v,graphObjectName:"chhattisgarh_district",center:[82,21],scale:4500},Delhi:{name:"Delhi",geoDataFile:"".concat("/maps","/delhi.json"),mapType:v,graphObjectName:"delhi_1997-2012_district",center:[77,28.5],scale:3e4},Karnataka:{name:"Karnataka",geoDataFile:"".concat("/maps","/karnataka.json"),mapType:v,graphObjectName:"karnataka_district",center:[76,15.05],scale:4900},Kerala:{name:"Kerala",geoDataFile:"".concat("/maps","/kerala.json"),mapType:v,graphObjectName:"kerala_district",center:[76,10.5],scale:5e3},Goa:{name:"Goa",geoDataFile:"".concat("/maps","/goa.json"),mapType:v,graphObjectName:"goa_district",center:[74,15],scale:2e4},Gujarat:{name:"Gujarat",geoDataFile:"".concat("/maps","/gujarat.json"),mapType:v,graphObjectName:"gujarat_district_2011",center:[70.5,22],scale:4e3},Haryana:{name:"Haryana",geoDataFile:"".concat("/maps","/haryana.json"),mapType:v,graphObjectName:"haryana_district",center:[76,29],scale:8e3},"Himachal Pradesh":{name:"Himachal Pradesh",geoDataFile:"".concat("/maps","/himachalpradesh.json"),mapType:v,graphObjectName:"himachalpradesh_district",center:[77,32],scale:7e3},"Jammu and Kashmir":{name:"Jammu and Kashmir",geoDataFile:"".concat("/maps","/jammukashmir.json"),mapType:v,graphObjectName:"jammukashmir_district",center:[75,34],scale:5e3},Jharkhand:{name:"Jharkhand",geoDataFile:"".concat("/maps","/jharkhand.json"),mapType:v,graphObjectName:"jharkhand_district",center:[85,23],scale:4500},Ladakh:{name:"Ladakh",geoDataFile:"".concat("/maps","/ladakh.json"),mapType:v,graphObjectName:"ladakh_district",center:[76,33],scale:3e3},"Madhya Pradesh":{name:"Madhya Pradesh",geoDataFile:"".concat("/maps","/madhyapradesh.json"),mapType:v,graphObjectName:"madhyapradesh_district",center:[77,23],scale:3e3},Maharashtra:{name:"Maharashtra",geoDataFile:"".concat("/maps","/maharashtra.json"),mapType:v,graphObjectName:"maharashtra_district",center:[75,18],scale:3e3},Manipur:{name:"Manipur",geoDataFile:"".concat("/maps","/manipur.json"),mapType:v,graphObjectName:"manipur_pre2016_districts",center:[93.5,24],scale:9e3},Meghalaya:{name:"Meghalaya",geoDataFile:"".concat("/maps","/meghalaya.json"),mapType:v,graphObjectName:"meghalaya_district",center:[91,24],scale:6500},Mizoram:{name:"Mizoram",geoDataFile:"".concat("/maps","/mizoram.json"),mapType:v,graphObjectName:"mizoram_district",center:[92.5,23],scale:1e4},Nagaland:{name:"Nagaland",geoDataFile:"".concat("/maps","/nagaland.json"),mapType:v,graphObjectName:"nagaland_district",center:[94,25],scale:7500},Odisha:{name:"Odisha",geoDataFile:"".concat("/maps","/odisha.json"),mapType:v,graphObjectName:"odisha_district",center:[84,20],scale:4e3},Punjab:{name:"Punjab",geoDataFile:"".concat("/maps","/punjab.json"),mapType:v,graphObjectName:"punjab_district",center:[75,30.7],scale:8e3},Rajasthan:{name:"Rajasthan",geoDataFile:"".concat("/maps","/rajasthan.json"),mapType:v,graphObjectName:"rajasthan_district",center:[73,25],scale:3e3},Sikkim:{name:"Sikkim",geoDataFile:"".concat("/maps","/sikkim.json"),mapType:v,graphObjectName:"sikkim_district",center:[88,27.5],scale:15e3},"Tamil Nadu":{name:"Tamil Nadu",geoDataFile:"".concat("/maps","/tamil-nadu.json"),mapType:v,graphObjectName:"tamilnadu_district",center:[83,18],scale:1500},Telangana:{name:"Telangana",geoDataFile:"".concat("/maps","/telugana.json"),mapType:v,graphObjectName:"telugana",center:[79,17],scale:5e3},Tripura:{name:"Tripura",geoDataFile:"".concat("/maps","/tripura.json"),mapType:v,graphObjectName:"tripura_district",center:[91.5,23],scale:1e4},Uttarakhand:{name:"Uttarakhand",geoDataFile:"".concat("/maps","/uttarakhand.json"),mapType:v,graphObjectName:"uttarakhand_district",center:[79,30],scale:8e3},"Uttar Pradesh":{name:"Uttar Pradesh",geoDataFile:"".concat("/maps","/uttarpradesh.json"),mapType:v,graphObjectName:"uttarpradesh_district",center:[80,27],scale:3500},"West Bengal":{name:"West Bengal",geoDataFile:"".concat("/maps","/westbengal.json"),mapType:v,graphObjectName:"westbengal_district",center:[87,24],scale:5e3}},T=function(a){var e=a.states,t=a.stateDistrictWiseData,c=a.stateHighlighted,s=Object(n.useState)({}),i=Object(m.a)(s,2),o=i[0],l=i[1],p=Object(n.useState)(N.India),d=Object(m.a)(p,2),u=d[0],g=d[1];Object(n.useEffect)((function(){}),[e]),Object(n.useEffect)((function(){var a=F(e[1]);l(a)}),[e]),Object(n.useEffect)((function(){if(u.mapType!==v)if(null===c)y(null,u.mapType);else if(void 0!==c){var a=F(c.state);l(a),y(a.name,u.mapType)}}),[c]);var j=Object(n.useMemo)((function(){var a={total:0,maxRecovered:0},n={};if(u.mapType===f)n=e.reduce((function(e,t){if("Total"===t.state)return e;var n=parseInt(t.recovered);return a.total+=n,n>a.maxRecovered&&(a.maxRecovered=n),e[t.state]=t.recovered,e}),{});else if(u.mapType===v){var r=(t[u.name]||{districtData:{}}).districtData;n=Object.keys(r).reduce((function(e,t){var n=parseInt(r[t].recovered);return a.total+=n,n>a.maxRecovered&&(a.maxRecovered=n),e[t]=r[t].recovered,e}),{})}return console.log([a,n]),[a,n]}),[u]),b=Object(m.a)(j,2),T=b[0],D=b[1],k=function(a,n){if(n.mapType===f)l(F(e.filter((function(e){return a===e.state}))[0]));else if(n.mapType===v){var r=(t[n.name]||{districtData:{}}).districtData[a];r||(r={confirmed:0,active:0,deaths:0,recovered:0}),l(E(r,a))}};if(!o)return null;var E=function(a,e){if(a){var t=Object(h.a)({},a);return t.name||(t.name=e),t}},F=function(a){if(a){var e=Object(h.a)({},a);return e.name||(e.name=e.state),e}},_=function(a){var n=N[a];if(n)if(g(n),n.mapType===f)k(e[1].state,n);else if(n.mapType===v){var r=(t[a]||{districtData:{}}).districtData,c=Object.keys(r).filter((function(a){return"Unknown"!==a})).sort((function(a,e){return r[e].confirmed-r[a].confirmed}))[0];k(c,n)}};return r.a.createElement("div",{className:"MapExplorer fadeInUp",style:{animationDelay:"1.2s"}},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,u.name," Map"),r.a.createElement("h6",null,"Hover over a"," ",u.mapType===f?"state":"district"," for more details")),r.a.createElement("div",{className:"map-stats"},r.a.createElement("div",{className:"stats"},r.a.createElement("h5",null,"Confirmed"),r.a.createElement("div",{className:"stats-bottom"},r.a.createElement("h1",null,o.confirmed),r.a.createElement("h6",null))),r.a.createElement("div",{className:"stats is-blue"},r.a.createElement("h5",null,"Active"),r.a.createElement("div",{className:"stats-bottom"},r.a.createElement("h1",null,o.active||""),r.a.createElement("h6",null))),r.a.createElement("div",{className:"stats is-green"},r.a.createElement("h5",null,"Recovered"),r.a.createElement("div",{className:"stats-bottom"},r.a.createElement("h1",null,o.recovered||""),r.a.createElement("h6",null))),r.a.createElement("div",{className:"stats is-gray"},r.a.createElement("h5",null,"Deceased"),r.a.createElement("div",{className:"stats-bottom"},r.a.createElement("h1",null,o.deaths||""),r.a.createElement("h6",null)))),r.a.createElement("div",{className:"meta"},r.a.createElement("h2",null,o.name),u.mapType===v&&D.Unknown>0?r.a.createElement("h4",{className:"unknown"},"Districts unknown for ",D.Unknown," people"):null,u.mapType===v?r.a.createElement("div",{className:"button back-button",onClick:function(){return _("India")}},"Back"):null),r.a.createElement(O,{statistic:T,mapMeta:u,mapData:D,setHoveredRegion:function(a){return k(a,u)},changeMap:_}))};var D=function(a){var e=Object(n.useState)([]),t=Object(m.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)({}),p=Object(m.a)(i,2),h=p[0],u=p[1],g=Object(n.useState)(!1),j=Object(m.a)(g,2),f=j[0],v=j[1],b=Object(n.useState)(1),y=Object(m.a)(b,2),O=(y[0],y[1],Object(n.useState)("")),N=Object(m.a)(O,2),D=(N[0],N[1]),k=Object(n.useState)([]),E=Object(m.a)(k,2),F=(E[0],E[1],Object(n.useState)(!0)),_=Object(m.a)(F,2),w=(_[0],_[1],Object(n.useState)(void 0)),M=Object(m.a)(w,2),x=M[0];M[1],Object(n.useEffect)((function(){!1===f&&R()}),[f]);var R=function(){var a=Object(l.a)(o.a.mark((function a(){var e,t,n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.all([d.a.get("https://api.covid19india.org/data.json"),d.a.get("https://api.covid19india.org/state_district_wise.json")]);case 3:e=a.sent,t=Object(m.a)(e,2),n=t[0],r=t[1],s(n.data.statewise),D(n.data.statewise[0].lastupdatedtime),u(r.data),v(!0),console.log("fetched set to true"),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"Home"},f&&r.a.createElement(T,{states:c,stateDistrictWiseData:h,stateHighlighted:x}))};var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[114,1,2]]]);
//# sourceMappingURL=main.9df1480e.chunk.js.map